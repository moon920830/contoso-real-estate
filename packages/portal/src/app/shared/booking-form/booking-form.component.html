<section class="price-container">
  <div>
    <span class="price"
      ><strong>{{ monthlyRentPriceWithDiscount | currency }}</strong
      >/month</span
    >
    <s *ngIf="fees.discount > 0" class="price-old"
      ><strong>{{ monthlyRentPrice | currency }}</strong
      >/month</s
    >
  </div>
  <strong *ngIf="fees.discount > 0" class="price-discount">{{ fees.discount }}% OFF</strong>
</section>

<mat-divider></mat-divider>

<section class="guests-container">
  <mat-form-field appearance="outline">
    <mat-label>Enter renting period</mat-label>
    <mat-date-range-input [formGroup]="rentingPeriod" [rangePicker]="picker">
      <input required matStartDate formControlName="start" placeholder="Start date" />
      <input required matEndDate formControlName="end" placeholder="End date" />
    </mat-date-range-input>
    <mat-hint>MM/DD/YYYY â€“ MM/DD/YYYY</mat-hint>
    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-date-range-picker #picker></mat-date-range-picker>
  </mat-form-field>

  <mat-form-field appearance="outline" [formGroup]="guests">
    <mat-label>Additional Guests</mat-label>
    <mat-select formControlName="adults" [value]="0">
      <mat-option value="0"> No guests </mat-option>
      <mat-option value="1"> 1 Adult </mat-option>
      <mat-option value="2"> 2 Adults </mat-option>
    </mat-select>
    <mat-hint>Only max. 2 guests are allowed</mat-hint>
  </mat-form-field>
</section>

<section class="price-details-container">
  <table>
    <tr>
      <td>{{ months() }} month(s)</td>
      <td>{{ monthlyRentPriceWithDiscount * months() | currency }}</td>
    </tr>
    <tr *ngIf="fees.discount > 0">
      <td>Discount {{ fees.discount }}%</td>
      <td>-{{ monthlyRentPrice - monthlyRentPriceWithDiscount | currency }}</td>
    </tr>
    <tr>
      <td>Cleaning fee</td>
      <td>{{ fees.cleaning | currency }}</td>
    </tr>
    <tr>
      <td>Service fee</td>
      <td>{{ fees.service | currency }}</td>
    </tr>
    <tr>
      <td>Occupancy taxes and fees</td>
      <td>{{ fees.occupancy | currency }}</td>
    </tr>
  </table>

  <div class="price-total">
    <span>Total payment</span>
    <span>{{ total() | currency }}</span>
  </div>
</section>

<section class="footer-container">
  <button (click)="rent()" [disabled]="!rentingPeriod.valid" mat-flat-button color="primary">Reserve Now</button>
  <mat-hint>Your credit card will be charged once the reservation is approved. <a href="#">Terms of service</a> </mat-hint>
</section>
