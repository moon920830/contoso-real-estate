<section>
  <button *ngIf="listing.isFavorited" (click)="bookmark()" title="Remove this listing from favorites" class="bookmark-listing">
    <span aria-hidden="false" aria-label="Remove this listing from favorites" class="material-symbols-outlined"> bookmark_added </span>
  </button>
  <button *ngIf="!listing.isFavorited" (click)="bookmark()" title="Save this listing" class="bookmark-listing">
    <span aria-hidden="false" aria-label="Save this listing" class="material-symbols-outlined"> bookmark </span>
  </button>

  <mat-card>
    <img mat-card-image src="/assets/images/{{ listing.photos[0] }}" alt="{{ listing.title }}" />
    <mat-card-content>
      <mat-card-title>{{ listing.title }}</mat-card-title>
      <mat-card-subtitle>
        <span class="material-symbols-outlined"> pin_drop </span>

        {{ listing.address.city }}, {{ listing.address.country }}</mat-card-subtitle
      >
      <p class="listing-description">{{ listing.description.substr(0, 100) }}...</p>
    </mat-card-content>
    <mat-card-actions>
      <div>
        <h2>{{ this.monthlyRentPriceWithDiscount | currency }}/month</h2>
        <h5>
          <s>{{ listing.fees.rent | currency }}/month</s>
        </h5>
      </div>
      <a
        mat-flat-button
        color="primary"
        class="card-link"
        [title]="listing.title"
        [routerLink]="['/listing/' + listing.slug]"
        [state]="{ listing }"
        >View listing</a
      >
    </mat-card-actions>
  </mat-card>
</section>
